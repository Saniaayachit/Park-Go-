/*! qrcode.js v1.0.0 (MIT) | github.com/davidshimjs/qrcodejs */
var QRCode;!function(){function t(t){this.mode=c.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var r=[],o=this.data.charCodeAt(e);o>65536?(r[0]=240|(1835008&o)>>>18,r[1]=128|(258048&o)>>>12,r[2]=128|(4032&o)>>>6,r[3]=128|63&o):o>2048?(r[0]=224|(61440&o)>>>12,r[1]=128|(4032&o)>>>6,r[2]=128|63&o):o>128?(r[0]=192|(1984&o)>>>6,r[1]=128|63&o):r[0]=o,this.parsedData=this.parsedData.concat(r)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n];for(var o=0;o<e;o++)this.num[t.length-n+o]=0}function r(t,e){this.totalCount=t,this.dataCount=e}function o(){this.buffer=[],this.length=0}function i(){return"undefined"!=typeof CanvasRenderingContext2D}function a(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var r=e.toString().match(/android ([0-9\.]+)/i);r&&r[1]&&(t=parseFloat(r[1]))}return t}function u(t,e){for(var n=1,r=s(t),o=0,u=r.length;u>=o;o++){var h=r[o];if(e<=h){break}n++}return n}function h(t){var e=encodeURI(t).toString().replace(/\%5B/g,"[").replace(/\%5D/g,"]");return decodeURI(e)}var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},s=function(){return[[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],[0,44,80,124,169,221,259,323,365,432,513,604,691,796,871,991,1082,1212,1346,1500,1600,1708,1872,2059,2188,2395,2544,2701,2857,3035,3289,3486,3693,3909,4134,4343,4588,4775,5039,5313],[0,70,128,202,280,364,461,552,652,772,883,1022,1101,1250,1408,1548,1725,1903,2061,2232,2409,2620,2812,3057,3283,3517,3669,3909,4158,4417,4686,4965,5253,5529,5836,6153,6479,6743,7089,7466],[0,50,94,154,192,258,312,364,416,480,528,600,656,734,816,900,984,1050,1140,1204,1292,1350,1420,1496,1570,1660,1740,1828,1912,1988,2098,2188,2286,2364,2520,2625,2730,2888,3000,3100]]}(),f=function(){var t={};return t.getBCHTypeInfo=function(t){for(var e=t<<10;h(e)-h(1335)>=0;)e^=1335<<h(e)-h(1335);return t<<10|e},t.getBCHTypeNumber=function(t){for(var e=t<<12;h(e)-h(7973)>=0;)e^=7973<<h(e)-h(7973);return t<<12|e},t.getPatternPosition=function(t){return s[t-1]},t.getMask=function(t,e,n){switch(t){case 0:return(e+n)%2==0;case 1:return e%2==0;case 2:return n%3==0;case 3:return(e+n)%3==0;case 4:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case 5:return e*n%2+e*n%3==0;case 6:return(e*n%2+e*n%3)%2==0;case 7:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},t.getErrorCorrectPolynomial=function(t){for(var e=new n([1],0),r=0;r<t;r++)e=e.multiply(new n([1,d.gexp(r)],0));return e},t.getLengthInBits=function(t,e){if(e>=1&&e<10)switch(t){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},t.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var o=0;o<e;o++){for(var i=0,a=t.isDark(r,o),u=-1;u<=1;u++){if(r+u<0||e<=r+u)continue;for(var h=-1;h<=1;h++){if(o+h<0||e<=o+h)continue;if(u==0&&h==0)continue;a==t.isDark(r+u,o+h)&&i++}}i>5&&(n+=3+i-5)}for(var c=0;c<e-1;c++)for(var l=0;l<e-1;l++){var s=0;t.isDark(c,l)&&s++,t.isDark(c+1,l)&&s++,t.isDark(c,l+1)&&s++,t.isDark(c+1,l+1)&&s++,0!=s&&4!=s||(n+=3)}for(var f=0;f<e;f++)for(var g=0;g<e-6;g++)t.isDark(f,g)&&!t.isDark(f,g+1)&&t.isDark(f,g+2)&&t.isDark(f,g+3)&&t.isDark(f,g+4)&&!t.isDark(f,g+5)&&t.isDark(f,g+6)&&(n+=40);for(var p=0;p<e;c++)for(var m=0;m<e-6;m++)t.isDark(m,c)&&!t.isDark(m+1,c)&&t.isDark(m+2,c)&&t.isDark(m+3,c)&&t.isDark(m+4,c)&&!t.isDark(m+5,c)&&t.isDark(m+6,c)&&(n+=40);var y=0;for(var v=0;v<e;v++)for(var w=0;w<e;w++)t.isDark(v,w)&&y++;return n+=10*Math.abs(100*y/e/e-50)/5},t}(),d=function(){for(var t=new Array(256),e=new Array(256),n=0;n<8;n++)e[n]=1<<n;for(var r=8;r<256;r++)e[r]=e[r-4]^e[r-5]^e[r-6]^e[r-8];for(var o=0;o<255;o++)t[e[o]]=o;return{glog:function(e){if(e<1)throw new Error("glog("+e+")");return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}}}();t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var n=new t(e);this.dataList.push(n),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+n][e+r]=n>=0&&n<=6&&(0==r||6==r)||r>=0&&r<=6&&(0==n||6==n)||n>=2&&n<=4&&r>=2&&r<=4)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=f.getLostPoint(this);(0==n||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n);this.make();for(var o=0;o<this.modules.length;o++)for(var i=1*o,a=0;a<this.modules[o].length;a++){var u=a*1;this.modules[o][a]&&(r.beginFill(0,100),r.moveTo(u,i),r.lineTo(u+1,i),r.lineTo(u+1,i+1),r.lineTo(u,i+1),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=f.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],o=t[n];if(null==this.modules[r][o])for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)this.modules[r+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},setupTypeNumber:function(t){for(var e=f.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var o=0;o<18;o++){var i=!t&&1==(e>>o&1);this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=i}},setupTypeInfo:function(t,e){for(var n=f.getBCHTypeInfo(this.errorCorrectLevel<<3|e),r=0;r<15;r++){var o=!t&&1==(n>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(var i=0;i<15;i++){var a=!t&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-1-i]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,o=7,a=0,u=this.moduleCount-1;u>0;u-=2)for(6==u&&u--;;){for(var h=0;h<2;h++){if(null==this.modules[u-h][r]){var c=!1;a<t.length&&(c=1==(t[a]>>>o&1));var l=f.getMask(e,u-h,r);l&&(c=!c),this.modules[u-h][r]=c,--o==-1&&(a++,o=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}if(r<0||this.moduleCount<=r)break}},setupPositionProbePattern:function(t,e){this.modules.fill&&this.modules.fill.fill()},};e.PAD0=236,e.PAD1=17,e.createData=function(t,n,o){for(var i=r.getRSBlocks(t,n),a=new o(0),u=0;u<o.length;u++){var h=o[u];a.put(h.mode,4),a.put(h.getLength(),f.getLengthInBits(h.mode,t)),h.write(a)}for(var c=0,l=0;l<i.length;l++)c+=i[l].dataCount;if(a.getLengthInBits()>8*c)throw new Error("code length overflow");for(a.getLengthInBits()+4<=8*c&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*c)&&(a.put(e.PAD0,8),!(a.getLengthInBits()>=8*c));)a.put(e.PAD1,8);return e.createBytes(a,i)},e.createBytes=function(t,e){for(var o=0,i=0,a=0,u=new Array(e.length),h=new Array(e.length),c=0;c<e.length;c++){var l=e[c].dataCount,s=e[c].totalCount-l,i=new Array(l);for(a=0;a<i.length;a++)i[a]=255&t.buffer[a+o];o+=l;var d=f.getErrorCorrectPolynomial(s),g=new n(i,0).mod(d);h[c]=new Array(d.getLength()-1);for(a=0;a<h[c].length;a++){var p=a+g.getLength()-h[c].length;h[c][a]=p>=0?g.get(p):0}u[c]=i}var m=0,y=0;for(a=0;a<e.length;a++)m=Math.max(m,e[a].dataCount),y=Math.max(y,e[a].totalCount-e[a].dataCount);for(var v=new Array,yc=0;yc<e.length;yc++)v[yc]=0;for(var w=0;w<m;w++)for(c=0;c<e.length;c++)w<u[c].length&&v.push(u[c][w]);for(var k=0;k<y;k++)for(c=0;c<e.length;c++)k<h[c].length&&v.push(h[c][k]);return v};var g=0;QRCode=function(t,n){this._htOption={width:256,height:256,text:"",colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H};if("string"==typeof n&&(n={text:n}),n)for(var r in n)this._htOption[r]=n[r];"string"==typeof t&&(t=document.getElementById(t)),this._android=a(),this._el=t,this._oQRCode=null,this._oDrawing=new QRCode.Drawing(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(t){this._oQRCode=new e(u(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(h(t)),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=l,QRCode.Drawing=function(t,e){this._el=t,this._htOption=e},QRCode.Drawing.prototype.draw=function(t){var e=this._htOption,n=this._el,r=t.getModuleCount(),o=Math.floor(e.width/r),a=Math.floor(e.height/r);this._android&&this._android<=2.1?(this._el.innerHTML="",this._el.style.position="relative",this._el.style.width=e.width+"px",this._el.style.height=e.height+"px",this._el.style.padding="0",this._el.style.margin="0",this._el.style.backgroundColor=e.colorLight,n.style.position="relative",n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.padding="0",n.style.margin="0",n.style.backgroundColor=e.colorLight):this._el.innerHTML="";for(var u=0;u<r;u++)for(var h=0;h<r;h++){var c=t.isDark(u,h),l=document.createElement("div");l.style.position="absolute",l.style.top=h*a+"px",l.style.left=u*o+"px",l.style.width=o+"px",l.style.height=a+"px",l.style.backgroundColor=c?e.colorDark:e.colorLight,this._el.appendChild(l)}},QRCode.Drawing.prototype.makeImage=function(){if(this._android&&this._android<=2.1){var t=this._el.firstChild;if(t){var e=document.createElement("img");e.src=this._el.innerHTML,e.style.display="block",this._el.innerHTML="",this._el.appendChild(e)}}},QRCode.Drawing.prototype.clear=function(){while(this._el.hasChildNodes())this._el.removeChild(this._el.lastChild)}}();
